<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <title>Class Phalcon\Db\Result\Pdo — Phalcon 2.0.0 documentation</title>
    <meta name="keywords" content="php, phalcon, phalcon php, php framework, faster php framework">
<link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="http://static.phalconphp.com/css/phalcon.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:700,400" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Merriweather:400,700" rel="stylesheet" type="text/css">
    <!--
    EUROPE <link href='https://fonts.googleapis.com/css?family=Open+Sans:700,400&subset=latin-ext' rel='stylesheet' type='text/css'>
    GREEK <link href='https://fonts.googleapis.com/css?family=Open+Sans:700,400&subset=greek-ext' rel='stylesheet' type='text/css'>
    RUSSIA <link href='https://fonts.googleapis.com/css?family=Open+Sans:700,400&subset=cyrillic-ext,latin' rel='stylesheet' type='text/css'>
    -->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css">
    <link rel="stylesheet" href="../_static/docs.css" type="text/css">
    

    
    
    <link rel="shortcut icon" href="../_static/favicon.ico">
    <link rel="top" title="Phalcon 2.0.0 documentation" href="../index.html">
    <link rel="up" title="API Indice" href="index.html">
    <link rel="next" title="Class Phalcon\Debug" href="Phalcon_Debug.html">
    <link rel="prev" title="Class Phalcon\Db\Reference" href="Phalcon_Db_Reference.html"> 
  </head>
  <body>




    <!--<div class="header-line">
      <div class="size-wrap">
        <div class="header-line-title title-white">Documentation</div>
      </div>
    </div>-->
      

      <table width="100%" align="center" cellpadding="0" cellspacing="0">
        <tr>
      
          <td class="second-box" valign="top">
            <div class="document">
                <div class="documentwrapper">
                  <div class="bodywrapper">
                    <div class="body">
                      
  <div class="section" id="class-phalcon-db-result-pdo">
<h1>Class <a name="//apple_ref/cpp/Class/Phalcon%5CDb%5CResult%5CPdo" id="Phalcon\Db\Result\Pdo" class="dashAnchor"></a><strong>Phalcon\Db\Result\Pdo</strong>
</h1>
<p><em>implements</em> <a class="reference internal" href="Phalcon_Db_ResultInterface.html"><em>Phalcon\Db\ResultInterface</em></a></p>
<p>Encapsulates the resultset internals</p>
<div class="highlight-php">
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$connection</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">"SELECT * FROM robots ORDER BY name"</span><span class="p">);</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setFetchMode</span><span class="p">(</span><span class="nx">Phalcon\Db</span><span class="o">::</span><span class="na">FETCH_NUM</span><span class="p">);</span>
<span class="k">while</span> <span class="p">(</span><span class="nv">$robot</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetchArray</span><span class="p">())</span> <span class="p">{</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$robot</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="Phalcon_Db_Result_Pdo.html#methods" title="Permalink to this headline">¶</a>
</h2>
<p>public  <a name="//apple_ref/cpp/Method/__construct" id="__construct" class="dashAnchor"></a><strong>__construct</strong> (<em>unknown</em> $connection, <em>unknown</em> $result, [<em>unknown</em> $sqlStatement], [<em>unknown</em> $bindParams], [<em>unknown</em> $bindTypes])</p>
<p>Phalcon\Db\Result\Pdo constructor</p>
<p>public <em>boolean</em>  <a name="//apple_ref/cpp/Method/execute" id="execute" class="dashAnchor"></a><strong>execute</strong> ()</p>
<p>Allows to execute the statement again. Some database systems don’t support scrollable cursors, So, as cursors are forward only, we need to execute the cursor again to fetch rows from the begining</p>
<p>public <em>mixed</em>  <a name="//apple_ref/cpp/Method/fetch" id="fetch" class="dashAnchor"></a><strong>fetch</strong> ()</p>
<p>Fetches an array/object of strings that corresponds to the fetched row, or FALSE if there are no more rows. This method is affected by the active fetch flag set using Phalcon\Db\Result\Pdo::setFetchMode</p>
<div class="highlight-php">
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$connection</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">"SELECT * FROM robots ORDER BY name"</span><span class="p">);</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setFetchMode</span><span class="p">(</span><span class="nx">Phalcon\Db</span><span class="o">::</span><span class="na">FETCH_OBJ</span><span class="p">);</span>
<span class="k">while</span> <span class="p">(</span><span class="nv">$robot</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nx">robot</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>public <em>mixed</em>  <a name="//apple_ref/cpp/Method/fetchArray" id="fetchArray" class="dashAnchor"></a><strong>fetchArray</strong> ()</p>
<p>Returns an array of strings that corresponds to the fetched row, or FALSE if there are no more rows. This method is affected by the active fetch flag set using Phalcon\Db\Result\Pdo::setFetchMode</p>
<div class="highlight-php">
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$connection</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">"SELECT * FROM robots ORDER BY name"</span><span class="p">);</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setFetchMode</span><span class="p">(</span><span class="nx">Phalcon\Db</span><span class="o">::</span><span class="na">FETCH_NUM</span><span class="p">);</span>
<span class="k">while</span> <span class="p">(</span><span class="nv">$robot</span> <span class="o">=</span> <span class="nx">result</span><span class="o">-&gt;</span><span class="na">fetchArray</span><span class="p">())</span> <span class="p">{</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$robot</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>public <em>array</em>  <a name="//apple_ref/cpp/Method/fetchAll" id="fetchAll" class="dashAnchor"></a><strong>fetchAll</strong> ()</p>
<p>Returns an array of arrays containing all the records in the result This method is affected by the active fetch flag set using Phalcon\Db\Result\Pdo::setFetchMode</p>
<div class="highlight-php">
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$connection</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">"SELECT * FROM robots ORDER BY name"</span><span class="p">);</span>
<span class="nv">$robots</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetchAll</span><span class="p">();</span>
</pre></div>
</div>
<p>public <em>int</em>  <a name="//apple_ref/cpp/Method/numRows" id="numRows" class="dashAnchor"></a><strong>numRows</strong> ()</p>
<p>Gets number of rows returned by a resulset</p>
<div class="highlight-php">
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$connection</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">"SELECT * FROM robots ORDER BY name"</span><span class="p">);</span>
<span class="k">echo</span> <span class="s1">'There are '</span><span class="p">,</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">numRows</span><span class="p">(),</span> <span class="s1">' rows in the resulset'</span><span class="p">;</span>
</pre></div>
</div>
<p>public  <a name="//apple_ref/cpp/Method/dataSeek" id="dataSeek" class="dashAnchor"></a><strong>dataSeek</strong> (<em>unknown</em> $number)</p>
<p>Moves internal resulset cursor to another position letting us to fetch a certain row</p>
<div class="highlight-php">
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$connection</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">"SELECT * FROM robots ORDER BY name"</span><span class="p">);</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">dataSeek</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// Move to third row on result</span>
<span class="nv">$row</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">();</span> <span class="c1">// Fetch third row</span>
</pre></div>
</div>
<p>public  <a name="//apple_ref/cpp/Method/setFetchMode" id="setFetchMode" class="dashAnchor"></a><strong>setFetchMode</strong> (<em>unknown</em> $fetchMode)</p>
<p>Changes the fetching mode affecting Phalcon\Db\Result\Pdo::fetch()</p>
<div class="highlight-php">
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">//Return array with integer indexes</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setFetchMode</span><span class="p">(</span><span class="nx">Phalcon\Db</span><span class="o">::</span><span class="na">FETCH_NUM</span><span class="p">);</span>

<span class="c1">//Return associative array without integer indexes</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setFetchMode</span><span class="p">(</span><span class="nx">Phalcon\Db</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">);</span>

<span class="c1">//Return associative array together with integer indexes</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setFetchMode</span><span class="p">(</span><span class="nx">Phalcon\Db</span><span class="o">::</span><span class="na">FETCH_BOTH</span><span class="p">);</span>

<span class="c1">//Return an object</span>
<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setFetchMode</span><span class="p">(</span><span class="nx">Phalcon\Db</span><span class="o">::</span><span class="na">FETCH_OBJ</span><span class="p">);</span>
</pre></div>
</div>
<p>public <em>PDOStatement</em>  <a name="//apple_ref/cpp/Method/getInternalResult" id="getInternalResult" class="dashAnchor"></a><strong>getInternalResult</strong> ()</p>
<p>Gets the internal PDO result object</p>
</div>
</div>


                    </div>
                  </div>
                </div>
            </div>
          </td>
        </tr>
      </table>
    

      


    
    

  </body>
</html>
